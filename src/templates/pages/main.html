{% extends "pages/base.html" %}

{% block head %}
    <title>Twitter</title>
{% endblock %}


{% block body %}
    <div class="container" style="margin-top: 7%">

        <h3>Messages</h3>

        <form action="/send_message" method="post">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" name="title" required="true" class="form-control" aria-describedby="nameHelp"
                       placeholder="Enter title">
                <!--        <small class="form-text text-muted">We'll never share your name with anyone else.</small>-->
            </div>

            <div class="form-group">
                <label for="text">Text</label>
                <textarea class="form-control" name="text" required="true" rows="3"
                          placeholder="Set your twitt text"></textarea>
            </div>

            <div class="form-group">
                <label for="tag">Tag</label>
                <input type="text" name="tag" required="true" class="form-control" placeholder="Your tag">
                <small class="form-text text-muted">Напиши теги через запятую.</small>
            </div>

            <button type="submit" class="btn btn-primary">Поделиться</button>
        </form>

    </div>
    <div class="container">
        <hr>
        <h3>Twitts</h3>
        {% for message in messages %}
            <div class="card cardstyle">
                <img id="card_avatar" src="https://randomuser.me/api/portraits/men/82.jpg" alt="Card image cap">
                <div class="card-body">
                    <h2 class="card-text">{{ message.user.name }}</h2>
                    <h5 class="card-title">{{ message.title }}</h5>
                    <p class="card-text">{{ message.text }}</p>
                    {% for tag in message.tags %}
                        <a href='#{{ tag.text }}' class="badge badge-secondary">#{{ tag.text }}</a>
                    {% endfor %}
                </div>
                <div class="card-footer text-muted">
                    <p class="badge">{{ message.time }}</p>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}